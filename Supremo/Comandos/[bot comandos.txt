apt update && apt upgrade -y && apt install -y pulseaudio libmpv1 p7zip python3 python3-pip python3-setuptools gettext && apt autoclean && apt clean && rm -rf /var/lib/apt/list
installa os componentes necessários para o  bot.
adduser bot
cria um diretório

loginctl enable-linger bot
ativa o login para o diretório
sair do usuário root  e logar com o usuário criado.
clonar o bot do github
git clone https://github.com/gumerov-amir/TTMediaBot.git
sair do usuário bot e entrar com o root
\cd /home/bot/TTMediaBot

pip3 install -r requirements.txt

vai para a pasta do bot e instala as dependências
sair do usuário root e novamente logar com o do bot
cd TTMediaBot

cd tools
python3 ttsdk_downloader.py
baixa  o  ttsdk
chmod -R 777 /home/bot/.config
da permição para a pasta .config

mkdir /home/bot/.config/systemd
mkdir /home/bot/.config/systemd/user
cria o diretório do bot dentro do diretório do pulseaudio
editar o arquivo teamtalk.service dentro da pasta systemd/user na pasta TTMediaBot
arquivo original:

[Unit]
Description=TTMediaBot
Requires=pulseaudio.service

[Service]
Type=simple
WorkingDirectory=/opt/TTMediaBot
ExecStart=/opt/TTMediaBot/TTMediaBot.sh -c /opt/TTMediaBot/config.json
Restart=on-failure

[Install]
WantedBy=default.target


arquivo com as linhas necessárias modificadas.


[Unit]
Description=TTMediaBot
Requires=pulseaudio.service

[Service]
Type=simple
WorkingDirectory=/home/bot/TTMediaBot
ExecStart=/home/bot/TTMediaBot/TTMediaBot.sh -c /home/bot/TTMediaBot/config.json
Restart=on-failure

[Install]
WantedBy=default.target

voltar para a pasta TTMediaBot
renomear o arquivo config-difout.json
para config.json
editar o arquivo com os dados do teamtalk que ele será conectado

arquivo original.
{
    "general": {
        "language": "en",
        "send_channel_messages": true,
        "cache_file_name": "TTMediaBotCache.dat",
        "blocked_commands": [],
        "delete_uploaded_files_after": 300,
        "time_format": "%H:%M"
    },
    "sound_devices": {
        "output_device": 0,
        "input_device": 0
    },
    "player": {
        "default_volume": 50,
        "max_volume": 100,
        "volume_fading": true,
        "volume_fading_interval": 0.025,
        "seek_step": 5,
        "player_options": {}
    },
    "teamtalk": {
        "hostname": "localhost",
        "tcp_port": 10333,
        "udp_port": 10333,
        "encrypted": false,
        "nickname": "TTMediaBot",
        "status": "",
        "gender": "n",
        "username": "",
        "password": "",
        "channel": "/",
        "channel_password": "",
        "license_name": "",
        "license_key": "",
        "reconnection_attempts": -1,
        "reconnection_timeout": 10,
        "users": {
            "admins": [
                "admin"
            ],
            "banned_users": []
        },
        "event_handling": {
            "load_event_handlers": false,
            "event_handlers_file_name": "event_handlers.py"
        }
    },
    "services": {
        "default_service": "vk",
        "vk": {
            "enabled": true,
            "token": ""
        },
        "yam": {
            "enabled": true,
            "token": ""
        },
        "yt": {
            "enabled": true
        }
    },
    "logger": {
        "log": true,
        "level": "INFO",
        "format": "%(levelname)s [%(asctime)s]: %(message)s in %(threadName)s file: %(filename)s line %(lineno)d function %(funcName)s",
        "mode": "FILE",
        "file_name": "TTMediaBot.log",
        "max_file_size": 0,
        "backup_count": 0
    },
    "shortening": {
        "shorten_links": false,
        "service": "clckru",
        "service_params": {}
    }
}

arquivo modificado

{
    "general": {
        "language": "pt_BR",
        "send_channel_messages": true,
        "cache_file_name": "TTMediaBotCache.dat",
        "blocked_commands": [],
        "delete_uploaded_files_after": 300,
        "time_format": "%H:%M"
    },
    "sound_devices": {
        "output_device": 1,
        "input_device": 0
    },
    "player": {
        "default_volume": 50,
        "max_volume": 100,
        "volume_fading": true,
        "volume_fading_interval": 0.025,
        "seek_step": 5,
        "player_options": {}
    },
    "teamtalk": {
        "hostname": "amizadelivre.com",
        "tcp_port": 10333,
        "udp_port": 10333,
        "encrypted": false,
        "nickname": "TTMediaBot",
        "status": "",
        "gender": "n",
        "username": "",
        "password": "",
        "channel": "/",
        "channel_password": "",
        "license_name": "",
        "license_key": "",
        "reconnection_attempts": -1,
        "reconnection_timeout": 10,
        "users": {
            "admins": [
                "admin"
            ],
            "banned_users": []
        },
        "event_handling": {
            "load_event_handlers": false,
            "event_handlers_file_name": "event_handlers.py"
        }
    },
    "services": {
        "default_service": "vk",
        "vk": {
            "enabled": true,
            "token": ""
        },
        "yam": {
            "enabled": true,
            "token": ""
        },
        "yt": {
            "enabled": true
        }
    },
    "logger": {
        "log": true,
        "level": "INFO",
        "format": "%(levelname)s [%(asctime)s]: %(message)s in %(threadName)s file: %(filename)s line %(lineno)d function %(funcName)s",
        "mode": "FILE",
        "file_name": "TTMediaBot.log",
        "max_file_size": 0,
        "backup_count": 0
    },
    "shortening": {
        "shorten_links": false,
        "service": "clckru",
        "service_params": {}
    }
}

cp -r /home/bot/TTMediaBot/systemd/user/* /home/bot/.config/systemd/user

copia os arquivos já modificados para a pasta criada anteriormente
systemctl --user enable pulseaudio

systemctl --user start pulseaudio


ativa e inicia o pulseaudio

systemctl --user enable TTMediaBot
systemctl --user disable TTMediaBot

systemctl --user start TTMediaBot
systemctl --user stop TTMediaBot

ativa e inicia o bot

basiado no arquivo de instalação do bot do grupo TTMediaBot no telegram
que foi escreito pelo:
Rexya Muhamad Rizki.
